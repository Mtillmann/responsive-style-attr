<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Responsive Style Attributes dev page</title>

    <link rel="stylesheet" href="css/bootstrap.css">
    <link rel="stylesheet" href="css/foundation.css">
    <style>
        #dings, .bums{
            --breakpoints-default: [["xs","0"], ["sm","576px"], ["md","768px"], ["lg","992px"], ["xl","1200px"], ["xxl","1400px"]];
        }

        #dings div{
            --test: "no";
        }

        .something > .lala, #dings div{
            --test: "no";
        }

        .something > .lala, #dings div, #dings{
            --test: "no";
        }




    </style>

</head>
<body>

<div data-rsa-style='{"xs" : "border:none", "md@portrait": "background-color:#000", "md": "background-color:#ff0"}'></div>
<div data-rsa-style='{"xs-to-sm" : "border:none", "md@portrait": "background-color:#000", "md": "background-color:#ff0"}'></div>
<div data-rsa-style='{"lg-down" : "outline: 1px solid", "768px-up@portrait": "background-color:#000", "20cm-to-22cm": "background-color:#ff0", "600px-to-800px" : "color:#aaa", "800em-down" : "color:#fff"}'></div>
<div data-rsa-style='{"lg-to-1680px" : "outline: 1px solid", "255px-to-500px@portrait": "background-color:#000", "255px-to-lg": "background-color:#ff0", "600px-to-800px" : "color:#aaa", "800em-down" : "color:#fff"}'></div>
<div data-rsa-style='{"sm-up" : "outline: 1px solid; color:#fff; background   :   rgba(0,0,0,0.1);    transform:translate(-50%, 100px);background-image:url(\"lol.jpg\");"}'></div>
<div data-rsa-style='{"1680px" : "outline: 1px solid"}'></div>
<div data-rsa-style='{"1680px" : "   outline          : 1px solid    ;   "}'></div>
<div data-rsa-style='{"1680px" : "   border          : 1px solid   #eee ;   "}'></div>
<div data-rsa-style='{"1024px" : "border: 1px solid #eee; height:55px; background:red"}'></div>
<div data-rsa-key="foundation"
     data-rsa-style='{"medium-up" : "border: 5px solid #00f; height:55px; background:red"}'></div>
<div data-rsa-key="foundation" data-rsa-selector="html"
     data-rsa-style='{"medium-up" : "border: 5px solid #00f; height:55px; background:red"}'></div>
<div data-rsa-style='{"landscape" : "border: 5px solid #00f; height:55px; background:red"}'></div>
<div data-rsa-style='{"1680px@wkmdpr(2)@min-resolution(192dpi)" : "   border          : 1px solid   #eee ;   "}'></div>
<div data-rsa-style='{"1680px@portrait@wkmdpr(2)@min-resolution(192dpi)" : "   border          : 1px solid   #eee ;   "}'></div>
<div data-rsa-style='{"1680px@portrait@wkmdpr(2)@min-resolution(192dpi)" : "   border          : 1px solid   #eee ;   "}'></div>
<div data-rsa-style='{"1680px@portrait@wkmdpr(2)@min-resolution(192dpi)" : "   border          : 1px solid   #eee ;   "}'></div>
<div data-rsa-style='{"screen@sm-up@iOsOnly" : "outline: 1px solid; color:#fff; background   :   rgba(0,0,0,0.1);    transform:translate(-50%, 100px);background-image:url(\"lol.jpg\");"}'></div>


<div data-rsa-style='{"@screen@sm-up@landscape" : "outline: 1px solid; color:#fff; background   :   rgba(0,0,0,0.1);    transform:translate(-50%, 100px);background-image:url(\"lol.jpg\");"}'></div>
<div data-rsa-style='{"@screen, print@sm-up@landscape" : "outline: 1px solid; color:#fff; background   :   rgba(0,0,0,0.1);    transform:translate(-50%, 100px);background-image:url(\"lol.jpg\");"}'></div>
<div data-rsa-style='{"@not screen, print@sm-up@landscape" : "outline: 1px solid; color:#fff; background   :   rgba(0,0,0,0.1);    transform:translate(-50%, 100px);background-image:url(\"lol.jpg\");"}'></div>
<div data-rsa-style='{"@not screen, print@xxl@landscape" : "outline: 1px solid; color:#fff; background   :   rgba(0,0,0,0.1);    transform:translate(-50%, 100px);background-image:url(\"lol.jpg\");"}'></div>
<div data-rsa-style='{"xs" : "outline: 1px solid; color:#fff; background   :   rgba(0,0,0,0.1);    transform:translate(-50%, 100px);background-image:url(\"lol.jpg\");"}'></div>
<div data-rsa-style='{"print,screen@xs" : "outline: 1px solid; color:#fff; background   :   rgba(0,0,0,0.1);    transform:translate(-50%, 100px);background-image:url(\"lol.jpg\");"}'></div>
<div data-rsa-style='{"print,screen@xs@,@lg-up@landscape" : "border:10px dashed green;"}'></div>

<h1 data-rsa-selector=".lol" data-rsa-style='{"255px-to-512px" : "font-size: 1.5rem", "500px-up" : "font-size:2rem"}'>I change my font-size according to screen width</h1>

<div data-rsa-style='{"lt-2400px" : "border:10px dashed green;"}'>a</div>
<div data-rsa-style='{"lte-1680px" : "border:10px dashed blue;"}'><h1>b</h1></div>
<div data-rsa-style='{"gte-400px" : "border:10px dashed green;"}'>c</div>
<div data-rsa-style='{"gt-md" : "border:10px dashed green;"}'>d</div>
<div data-rsa-style='{"lt-xxl" : "border:10px dotted pink;"}'>e</div>
<script src="js/rsa.dev.umd.js"></script>

<script>
    window.addEventListener('rsa:cssdeployed', e => {
        console.log(e)
    })
    window.addEventListener('DOMContentLoaded', function () {

        document.body.insertAdjacentHTML('beforeend', `
            <style>
                html{
                    --breakpoints-global_init_helper: var(--breakpoints-default);
                }
            </style>
            <div id="inittest" data-rsa-key="global_init_helper" data-rsa-style='{"lg-up@portrait" : "border:1px solid red", "sm-to-lg" : "border:1px solid blue"}'></div>
        `);

        document.body.insertAdjacentHTML('beforeend', `
            <style>
                html{
                    --breakpoints-borked-json: '{[,:something,, ]]]},{ that will not parse';
                }
            </style>

        `);

        const css = new RespStyleAttr.Css({breakpointKey: 'borked-json'});


        RespStyleAttr.init({
            features: {
                wkmdpr: function (mediaQuery, devicePixelRatio) {
                    mediaQuery['-webkit-min-device-pixel-ratio'] = devicePixelRatio;
                },
                iOsOnly: function (mediaQuery) {

                    mediaQuery.media = 'only noop'
                }
            }
        });

        document.body.insertAdjacentHTML('beforeend',`
            <div data-rsa-key="mql4" data-rsa-style='{"gt-255px":"background:beige;"}'>mql4 test</div>
        `);

        new RespStyleAttr.Css({
            useMQL4RangeContext : true,
            breakpointKey: 'mql4'
        });

    })
</script>

</body>
</html>